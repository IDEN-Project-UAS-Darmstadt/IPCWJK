<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>IPCW XGBoost Binary Classifier — ipcw_xgboost • IPCWJK</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="IPCW XGBoost Binary Classifier — ipcw_xgboost"><meta name="description" content="

Fits a binary classification model using XGBoost with IPCW for
right-censored survival data. Hyperparameter tuning and Jackknife
model training are performed."><meta property="og:description" content="

Fits a binary classification model using XGBoost with IPCW for
right-censored survival data. Hyperparameter tuning and Jackknife
model training are performed."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">IPCWJK</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ipcw_models.html">IPCW Models for Survival Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/IDEN-Project-UAS-Darmstadt/IPCWJK" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>IPCW XGBoost Binary Classifier</h1>
      <small class="dont-index">Source: <a href="https://github.com/IDEN-Project-UAS-Darmstadt/IPCWJK/blob/HEAD/R/ipcw_xgboost.R" class="external-link"><code>R/ipcw_xgboost.R</code></a></small>
      <div class="d-none name"><code>ipcw_xgboost.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>

Fits a binary classification model using XGBoost with IPCW for
right-censored survival data. Hyperparameter tuning and Jackknife
model training are performed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ipcw_xgboost</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">tau</span>,</span>
<span>  time_var <span class="op">=</span> <span class="st">"t"</span>,</span>
<span>  status_var <span class="op">=</span> <span class="st">"delta"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  grid <span class="op">=</span> <span class="fu">ipcw_xgboost_default_grid</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  nrounds <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  early_stopping_rounds <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  nfold <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  nthread <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ipcw_xgboost_default_grid</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame containing the survival data. Must include columns
for the observed time and event indicator.</p></dd>


<dt id="arg-tau">tau<a class="anchor" aria-label="anchor" href="#arg-tau"></a></dt>
<dd><p>Numeric scalar. The time horizon at which the survival
probability is to be estimated.</p></dd>


<dt id="arg-time-var">time_var<a class="anchor" aria-label="anchor" href="#arg-time-var"></a></dt>
<dd><p>Character. The name of the variable in <code>data</code>
representing the observed time to event or censoring.
Default is <code>"t"</code>.</p></dd>


<dt id="arg-status-var">status_var<a class="anchor" aria-label="anchor" href="#arg-status-var"></a></dt>
<dd><p>Character. The name of the variable in <code>data</code>
representing the event indicator (1 if event occurred, 0 if censored).
Default is <code>"delta"</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Integer. Verbosity level for XGBoost training and
cross-validation (default is 0).</p></dd>


<dt id="arg-grid">grid<a class="anchor" aria-label="anchor" href="#arg-grid"></a></dt>
<dd><p>Data frame. Grid of hyperparameters to test in cross-validation.
The default is the output of <code>ipcw_xgboost_default_grid()</code>.</p></dd>


<dt id="arg-nrounds">nrounds<a class="anchor" aria-label="anchor" href="#arg-nrounds"></a></dt>
<dd><p>Integer. Maximum number of boosting rounds for XGBoost
training and cross-validation (default is 100).</p></dd>


<dt id="arg-early-stopping-rounds">early_stopping_rounds<a class="anchor" aria-label="anchor" href="#arg-early-stopping-rounds"></a></dt>
<dd><p>Integer. Number of rounds with no improvement
to trigger early stopping during cross-validation (default is 10).</p></dd>


<dt id="arg-nfold">nfold<a class="anchor" aria-label="anchor" href="#arg-nfold"></a></dt>
<dd><p>Integer. Number of folds for cross-validation (default is 3).</p></dd>


<dt id="arg-nthread">nthread<a class="anchor" aria-label="anchor" href="#arg-nthread"></a></dt>
<dd><p>Integer. Number of threads to use for XGBoost training
(default is 1).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>IPCWModel</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Training is performed using the <code>xgboost</code> package
(Chen and Guestrin 2016)
. The weights are calculated using the</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>ipcw_xgboost_default_grid()</code>: Returns a default grid of hyperparameters.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Chen T, Guestrin C (2016).
“XGBoost: A Scalable Tree Boosting System.”
In <em>Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining</em>,  KDD '16, 785–794.
ISBN 978-1-4503-4232-2, <a href="https://doi.org/10.1145/2939672.2939785" class="external-link">doi:10.1145/2939672.2939785</a>
, <a href="http://doi.acm.org/10.1145/2939672.2939785" class="external-link">http://doi.acm.org/10.1145/2939672.2939785</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="ipcw_weights.html">ipcw_weights</a></code> function, and then normalized to sum
to one.</p>
<p>Hyperparameter tuning is performed using three fold cross-validation with a
grid of parameters. The best parameters are selected based on the minimum
test log loss over 100 rounds with early stopping (10 rounds).
Note that the tested hyperparameters are
based on our simulations study and may not be optimal for all datasets.</p>
<p>The tested hyperparameters include:</p><ul><li><p><code>booster</code>: "gbtree" or "gblinear". For "gbtree":</p></li>
<li><p><code>eta</code>: Learning rate, tested as <code>1 / 10^(0:5)</code>.</p></li>
<li><p><code>max_depth</code>: Maximum depth of the tree, tested as <code>c(12, 6, 3, 1)</code>.</p></li>
</ul><p>With the best parameters, the model is trained on the full dataset.</p>
<p>Other ipcwmodels:
<code><a href="ipcw_logistic_regression.html">ipcw_logistic_regression</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#' # veteran data example</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tau</span> <span class="op">&lt;-</span> <span class="fl">80</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">veteran</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"status"</span>, <span class="st">"trt"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">newdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>trt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">ipcw_xgboost</span><span class="op">(</span><span class="va">df</span>,</span></span>
<span class="r-in"><span>  tau <span class="op">=</span> <span class="va">tau</span>, time_var <span class="op">=</span> <span class="st">"time"</span>,</span></span>
<span class="r-in"><span>  status_var <span class="op">=</span> <span class="st">"status"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">fit</span>, <span class="va">newdata</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   prediction     lower     upper           se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  0.4999998 0.4999986 0.5000009 5.848756e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  0.4999996 0.4999976 0.5000017 1.033711e-06</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Antje Jahn-Eimermacher, Lukas Klein.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

